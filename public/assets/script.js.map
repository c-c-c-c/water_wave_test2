{"version":3,"sources":["../../src/script/script.js"],"names":["scene","THREE","Scene","plane","plane_god","controls","geometry","geometry_god","renderer","camera","model","SEGX","SEGY","startTime","Date","rotate_speed","vm","Vue","el","data","count","methods","countUp","changeRotateSpeed","vm_stop","hsStop","Speed_0","renderFlag","light","ambient","width","height","modelPath","DirectionalLight","position","set","add","PerspectiveCamera","window","innerWidth","innerHeight","lookAt","Vector3","gridHelper","GridHelper","axisHelper","AxisHelper","lightHelper","DirectionalLightHelper","OrbitControls","autoRotate","autoRotateSpeed","WebGLRenderer","antialias","alpha","setSize","setClearColor","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","loader","TextureLoader","load","texture","PlaneGeometry","minFilter","LinearFilter","material","MeshBasicMaterial","map","transparent","Mesh","scale","helper","VertexNormalsHelper","wireframe","WireframeGeometry","line","LineSegments","depthTest","opacity","BoxHelper","fnh","FaceNormalsHelper","loader2","material_god","render","verticesNeedUpdate","time","i","j","index","vertex","vertices","amp","rotation","z","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["\n\nlet scene = new THREE.Scene();\nlet plane;\nlet plane_god;\nlet controls;\nlet geometry;\nlet geometry_god;\nlet renderer;\nlet camera;\nlet model = [];\nlet SEGX = 30;\nlet SEGY = 30;\nlet startTime = new Date();\nlet rotate_speed = 0;\n\n//let model = {};\n\n\nlet vm = new Vue({\n  el: '#mycounter',\n  data: {\n    count: 0\n  },\n  methods: {\n    countUp: function() {\n            this.count++;\n            \tchangeRotateSpeed ();\n      }\n  }\n});\n\nlet vm_stop = new Vue({\n  el: '#mystop',\n  methods: {\n    hsStop: function() {\n            Speed_0();\n    }\n  }\n});\n\nfunction renderFlag () {\n  'use strict';\n  let light;\n  let ambient;\n  let width = 1000;\n  let height = 750;\n\tlet modelPath ;\n\n   //light\n\t //light = new THREE.PointLight(0xffffff,2);\n\t //light.position.set(100,0,300);\n\t //scene.add(light);\n\n  light = new THREE.DirectionalLight(0xffffff, 1);\n  light.position.set(100, 0, 300);\n  scene.add(light);\n/*\n  ambient = new THREE.AmbientLight(0x404040);\n  scene.add(ambient);\n*/\n\t//camera\n  //camera = new THREE.PerspectiveCamera(45, width /　height, 1 , 1000);\n\tcamera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 4000);\n\tcamera.position.set(0,0,1000);\n  camera.lookAt(new THREE.Vector3(0,0,0));\n\n//  camera.position.set(0, 400, 300);\n//  camera.lookAt(scene.position);\n\n  // helper 現在は非表示\n  let gridHelper = new THREE.GridHelper(200, 50);\n  scene.add(gridHelper);\n  let axisHelper = new THREE.AxisHelper(1000);\n  scene.add(axisHelper);\n  let lightHelper = new THREE.DirectionalLightHelper(light , 20)\n  scene.add(lightHelper);\n\n  //controls\n  controls = new THREE.OrbitControls(camera);\n  //cameraの自動回転\n  controls.autoRotate = true;\n  controls.autoRotateSpeed = 1.5;\n\n  // renderer\n  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true  });\n  renderer.setSize(width, height);\n  renderer.setClearColor(0xffffff);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  document.getElementById('stage').appendChild(renderer.domElement);\n\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/italy.jpg\");\n\t//var texture = new THREE.TextureLoader().load(\"./public/img/dice.jpg\");\n\t//テクスチャ読み込み\n\tlet loader = new THREE.TextureLoader();\n\t//let texture=loader.load('./public/img/dice.jpg');\n\t// loader.load('./public/img/yoko.jpg', (texture) => {\n\tloader.load('./public/img/yoko.jpg', (texture) => {\n\t\tgeometry = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\t//let geometry = new THREE.PlaneGeometry( 5, 20, 32 );\n\n\t\ttexture.minFilter = THREE.LinearFilter;\n\t\tlet material = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\tplane = new THREE.Mesh(geometry, material);\n\t\tplane.scale.set(1.2, 1.2, 1.2);\n\t\tlet helper = new THREE.VertexNormalsHelper( plane, 2, 0xee0000, 1 );\n\t\tscene.add(helper);\n\t\t// let helper_wier = new THREE.WireframeGeometry( plane, 20, 0xee0000, 1 );\n\t\t// scene.add(helper_wier);\n\n\t\tlet wireframe = new THREE.WireframeGeometry( geometry );\n\t\tlet line = new THREE.LineSegments( wireframe );\n\t\tline.material.depthTest = false;\n\t\tline.material.opacity = 1;\n\t\tline.material.transparent = true;\n\t\tscene.add( new THREE.BoxHelper( line ) );\n\t\t//line.material.transparent = true;\n\t\tscene.add( line );\n\n\n\t\tlet fnh = new THREE.FaceNormalsHelper( plane, 5 );\n\t\tscene.add( fnh );\n\n\n\n\t\tscene.add(plane);\n\n\n\t\tlet loader2 = new THREE.TextureLoader();\n\t\tloader.load('./public/img/flag_moyo.png', (texture) => {\n\t\t\tgeometry_god = new THREE.PlaneGeometry(973, 703, SEGX, SEGY);\n\t\t\tlet material_god = new THREE.MeshBasicMaterial({map:texture, transparent:true} );\n\t\t\t//let material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\t//var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n\t\t\tplane_god = new THREE.Mesh(geometry_god, material_god);\n\t\t\tplane_god.scale.set(0.7, 0.7, 0.7);\n\n\t\t\t//scene.add(plane_god);\n\t\t\trender();\n\t\t});\n\t});\n\t//console.log(texture);\n\t//texture.needsUpdate = true;\n\t//var geometry = new THREE.PlaneGeometry(1300, 1228, SEGX, SEGY);\n}\n\nfunction render () {\n\n\tplane.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tplane_god.geometry.verticesNeedUpdate=true;//これを忘れずに書く\n\tlet time = (new Date() - startTime)/1000;\n\n\n \tfor (let i=0;i<SEGX+1;i++) {\n \t\tfor (let j=0;j<SEGY+1;j++) {\n \t\t\t//(i,j)のvertexを得る\n \t\t\tlet index = j * (SEGX + 1) + i % (SEGX + 1);\n \t\t\tlet vertex = plane.geometry.vertices[index];\n// //\t\t\tlet vertex_god = plane_god.geometry.vertices[index];\n \t\t\t//時間経過と頂点の位置によって波を作る\n \t\t\tlet amp=100;//振幅\n \t\t\t//vertex.z = amp * Math.sin( -i/2 + time*10 );\n \t\t\t// vertex_god.z = amp * Math.sin( -i/2 + time*10) + 200;\n \t\t}\n \t}\n\n\tplane_god.rotation.z += rotate_speed;\n  requestAnimationFrame(render);\n\t//controls.update();\n  renderer.render(scene, camera);\n}\n\nrenderFlag();\n\nfunction changeRotateSpeed () {\n  //controls.autoRotateSpeed = vm.count*10;\n \trotate_speed -= vm.count*0.01;\n}\n\nfunction Speed_0 () {\n  vm.count = 0;\n  rotate_speed = 0;\n \t//addSpinner();\n}\n"]}